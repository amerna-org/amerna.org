---
import { t } from "i18next";

const pages = [
  {
    href: "#hero",
    key: "header.nav.home",
  },
  {
    href: "#how",
    key: "header.nav.how",
  },
  {
    href: "#about",
    key: "header.nav.who",
  },
  {
    href: "#projects",
    key: "header.nav.projects",
  },
  {
    href: "#services",
    key: "header.nav.services",
  },
];
---

<script>
  document.querySelectorAll("nav li > a").forEach((item) => {
    item.addEventListener("click", () => {
      document.documentElement.classList.remove("expanded-menu");
    });
  });
</script>

<nav id="nav">
  <ul>
    {
      pages.map(({ href, key }) => (
        <li>
          <a href={href}>{t(key)}</a>
        </li>
      ))
    }
  </ul>
</nav>

<style>
  nav {
    grid-area: nav;
  }

  ul {
    display: flex;
    gap: 1.5rem;
  }

  a {
    text-underline-offset: 1.75rem;
    display: block;
    padding-block: 1rem;
  }

  @media only screen and (min-width: 675px) {
    nav {
      place-self: center;
    }

    a:hover {
      text-decoration: underline;
    }
  }

  @media only screen and (max-width: 674px) {
    nav {
      display: none;
    }
    ul {
      flex-direction: column;
      padding-top: 1rem;
      padding-inline-start: 0;
      gap: 0;
    }

    ul li {
      text-align: center;
    }

    ul a:not(:first-of-type) {
      border-top: 1px solid rgb(var(--text));
    }
  }
</style>

<style is:global>
  html.expanded-menu nav {
    display: block;
  }
</style>
